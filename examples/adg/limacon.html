<html>
<head>
   <title>Lima&ccedil;on | JSXGraph Example</title>
   <link rel="stylesheet" type="text/css" href="../../distrib/jsxgraph.css" />
   <script type="text/javascript" src="../../src/loadjsxgraph.js"></script>
</head>
<body>
<h2>Lima&ccedil;on</h2>
<div id="debug" style="display: none"></div>
<center>
<div style="width: 1000px;">
    <div style="width:500px; height: 510px;">
  <div id="jxgbox" class="jxgbox" style="width:500px; height:500px; text-align: left; float: left;"></div>
  <div id="polynomials" style="display: none; width: 500px; height: 500px; margin-left: 10px; text-align: left; padding-left: -200px;"></div>
  </div>

    <div style="width: 800px; margin-top: 10px;">
  <form>
      <input type="button" onclick="chooseCoordinateSystem();" value="Choose coordinate system" />
      <input type="button" onclick="generatePolynomials();" value="Generate system of polynomial equations" />
      <br />
      <input type="button" onclick="calculateLocus();" value="Calculate locus of T" />
      <input type="button" onclick="showLocusEquation();" value="Show locus equation" />
      <input type="button" onclick="showBoard();" value="Show board" />
      <br />
      <input type="button" onclick="dimConstruction();" value="Dim construction" />
      <input type="button" onclick="dimLocus();" value="Dim locus" />
  </form>
  </div>
</div>
</center>
   <script type="text/javascript">
    /* <![CDATA[ */

    board = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-2, 20, 20, -2], axis: true, grid: false,
                                   keepaspectratio: true, showcopyright: false});

//    board.suspendUpdate();
    p3 = board.createElement('point', [8, 3]);
    p4 = board.createElement('point', [8, 8]);
    c1 = board.createElement('circle', [p4, 4]);//, {strokeOpacity: 0.3});

    p6 = board.createElement('glider', [0, 0, c1], {name:"D"});
    g = board.createElement('line', [p3, p6]);//, {strokeOpacity: 0.3});

    c2 = board.createElement('circle', [p6, 3]);//, {strokeOpacity: 0.3});

    p14_1 = board.createElement('intersection', [c2,g,0], {name: "T"});

    loc = null;
    
    board.options.locus.translateToOrigin = true;
    board.options.locus.toOrigin = p3;
    board.options.locus.translateTo10 = true;
    board.options.locus.to10 = p4;
//    p14_2 = board.createElement('intersection', [c2,g,1]);

//    loc = board.createElement('locus', [p14_1], {strokeColor: 'red', strokeWidth: '1px', strokeOpacity: 0.3});

//    tg = board.create('glider', [loc]);
    //tg = p14_1;

//    tc = board.create('circle', [tg, 3], {strokeOpacity: 0.3});
//    ti = board.create('intersection', [tc, c1, 0]);
//    tm = board.create('midpoint', [tg, ti]);

//    board.unsuspendUpdate();

//    tl = board.create('locus', [tm], {strokeWidth: '3px', strokeOpacity: 0.9, strokeColor: 'black'});

    function chooseCoordinateSystem() {
        var k, o;
        document.getElementById('polynomials').style.display = 'none';
        document.getElementById('jxgbox').style.display = 'block';
        JXG.Math.Symbolic.generateSymbolicCoordinatesPartial(board, p14_1, 'u', 'brace');

        for(k in board.objects) {
            o = board.objects[k];
            if(o.elementClass == JXG.OBJECT_CLASS_POINT) {
                o.label.content.setText(o.name + ' (' + o.symbolic.x + ', ' + o.symbolic.y + ')');
            }
        }

        board.update();
        JXG.Math.Symbolic.clearSymbolicCoordinates(board);
    }

    function generatePolynomials() {
        var res = JXG.Math.Symbolic.generatePolynomials(board, p14_1, true),
            i, out = document.getElementById('polynomials');

        out.innerHTML = '<ul>';
        for(i=0; i<res.length; i++)
            out.innerHTML += '<li>' + res[i] + ' = 0</li>';
        out.innerHTML += '</ul>';
        out.style.display = 'block';
        document.getElementById('jxgbox').style.display = 'none';
    }

    function calculateLocus() {
        loc = board.create('locus', [p14_1], {strokeColor: 'black', strokeWidth: '2px'});
    }

    function showLocusEquation() {
        var out = document.getElementById('polynomials');

        out.innerHTML = '<ul>';
        for(i=0; i<loc.eq.length; i++)
            out.innerHTML += '<li>' + loc.eq[i] + ' = 0</li>';
        out.innerHTML += '</ul>';
        out.style.display = 'block';
        document.getElementById('jxgbox').style.display = 'none';
    }

    function showBoard() {
        document.getElementById('polynomials').style.display = 'none';
        document.getElementById('jxgbox').style.display = 'block';
    }

    function dimConstruction() {
        var c = [p3, p4, c1, g, p6, c2, p14_1], i;

        if(loc != null)
            loc.setProperty({strokeOpacity: 1.0});
        for(i=0; i<c.length; i++) {
            c[i].setProperty({strokeOpacity: 0.4, fillOpacity: 0.4});
        }
    }

    function dimLocus() {
        var c = [p3, p4, c1, g, p6, c2, p14_1], i;

        if(loc != null)
            loc.setProperty({strokeOpacity: 0.4});
        for(i=0; i<c.length; i++) {
            c[i].setProperty({strokeOpacity: 1.0, fillOpacity: 1.0});
        }
    }

  /* ]]> */
  </script>
<br/>
</body>
</html>
