<html>
<head>
   <title>JSXGraph example</title>
   <link rel="stylesheet" type="text/css" href="../distrib/jsxgraph.css" />
   <script type="text/javascript" src="../distrib/prototype.js"></script>
   <script type="text/javascript" src="../src/loadjsxgraph.js"></script>
</head>
<body>
<h2>Lagrange interpolation</h2>
<div style="width:960px">
<div id="jxgbox" class="jxgbox" style="width:600px; height:400px; float:left; "></div>
</div>
<br clear=all>
<div id="debug" style="display:none;"></div>
   <script type="text/javascript">
    /* <![CDATA[ */

        board = JXG.JSXGraph.initBoard('jxgbox', {originX: 250, originY: 250, unitX: 50, unitY: 25});
        // Axes
        b1axisx = board.createElement('axis', [[0,0], [1,0]], {});
        b1axisy = board.createElement('axis', [[0,0], [0,1]], {});

        var p = [];
        p[0] = board.createElement('point', [-1,2], {style:6});
        p[1] = board.createElement('point', [0,-3], {style:6});
        p[2] = board.createElement('point', [1,4], {style:6});
        p[3] = board.createElement('point', [2,1], {style:6});
        
        var pol = function(x) {
                var y = p[0].Y()*(x-p[1].X())*(x-p[2].X())*(x-p[3].X())/
                        ((p[0].X()-p[1].X())*(p[0].X()-p[2].X())*(p[0].X()-p[3].X()))+
                        p[1].Y()*(x-p[0].X())*(x-p[2].X())*(x-p[3].X())/
                        ((p[1].X()-p[0].X())*(p[1].X()-p[2].X())*(p[1].X()-p[3].X()))+
                        p[2].Y()*(x-p[0].X())*(x-p[1].X())*(x-p[3].X())/
                        ((p[2].X()-p[0].X())*(p[2].X()-p[1].X())*(p[2].X()-p[3].X()))+
                        p[3].Y()*(x-p[0].X())*(x-p[1].X())*(x-p[2].X())/
                        ((p[3].X()-p[0].X())*(p[3].X()-p[1].X())*(p[3].X()-p[2].X()));
                        
                /*var s = '('+p[0].Y()+')(x-'+p[1].X()+')(x-'+p[2].X()+')(x-'+p[3].X()+')/'+
                        '('+(p[0].X()-p[1].X())*(p[0].X()-p[2].X())*(p[0].X()-p[3].X())+')+<br>'+
                        '('+p[1].Y()+')(x-'+p[0].X()+')(x-'+p[2].X()+')(x-'+p[3].X()+')/'+
                        '('+(p[1].X()-p[0].X())*(p[1].X()-p[2].X())*(p[1].X()-p[3].X())+')+<br>'+
                        '('+p[2].Y()+')(x-'+p[0].X()+')(x-'+p[1].X()+')(x-'+p[3].X()+')/'+
                        '('+(p[2].X()-p[0].X())*(p[2].X()-p[1].X())*(p[2].X()-p[3].X())+')+<br>'+
                        '('+p[3].Y()+')(x-'+p[0].X()+')(x-'+p[1].X()+')(x-'+p[2].X()+')/'+
                        '('+(p[3].X()-p[0].X())*(p[3].X()-p[1].X())*(p[3].X()-p[1].X())+')';
                $('debug').innerHTML = s;
                */
                return y;
            };
        graph = board.createElement('curve', ['x', pol, 'x', -10, 10], {curveType:'graph'});
      
  /* ]]> */
  </script>
</body>
</html>
