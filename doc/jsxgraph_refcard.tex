% Reference Card for JSXGraph
% To create a document out of this for printing, save this text into
% a file 'jsxgraph_refcard.tex' and run the commands
%     tex jsxgraph_refcard.tex
%     dvips -t landscape jsxgraph_refcard.dvi -o
%     gs -sDEVICE=pdfwrite -dBATCH -dNOPAUSE -sOutputFile=jsxgraph_refcard.pdf jsxgraph_refcard.ps
% this will result in a PDF file 'jsxgraph_refcard.pdf'
% this is a comment

%**start of header
\newcount\columnsperpage
\overfullrule=0pt

% This file can be printed with 1, 2, or 3 columns per page (see below).
% [For 2 or 3 columns, you'll need 6 and 8 point fonts.]
% Specify how many you want here.  Nothing else needs to be changed.

\columnsperpage=3

% This reference card is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  

% This file is intended to be processed by plain TeX (TeX82).
%
% The final reference card has six columns, three on each side.
% This file can be used to produce it in any of three ways:
% 1 column per page
%    produces six separate pages, each of which needs to be reduced to 80%.
%    This gives the best resolution.
% 2 columns per page
%    produces three already-reduced pages.
%    You will still need to cut and paste.
% 3 columns per page
%    produces two pages which must be printed sideways to make a
%    ready-to-use 8.5 x 11 inch reference card.
%    For this you need a dvi device driver that can print landscape
% Which mode to use is controlled by setting \columnsperpage above.

%
% Thanks:
%  (reference card macros due to Stephen Gildea)

\def\versionnumber{0.1}  % Version of this reference card
\def\year{2009}
\def\month{Feb}
\def\version{\month\ \year\ v\versionnumber}

\def\shortcopyrightnotice{\vskip .5ex plus 2 fill
  \centerline{\small \copyright\ \year\ v\versionnumber}}

\def\copyrightnotice{\vskip 1ex plus 100 fill\begingroup\small
\centerline{\version.}
\endgroup}

% make \bye not \outer so that the \def\bye in the \else clause below
% can be scanned without complaint.
\def\bye{\par\vfill\supereject\end}

\newdimen\intercolumnskip
\newbox\columna
\newbox\columnb

\def\ncolumns{\the\columnsperpage}

\message{[\ncolumns\space 
  column\if 1\ncolumns\else s\fi\space per page]}

\def\scaledmag#1{ scaled \magstep #1}

% This multi-way format was designed by Stephen Gildea
% October 1986.
\if 1\ncolumns
  \hsize 4in
  \vsize 10in
  \voffset -.7in
  \font\titlefont=\fontname\tenbf \scaledmag3
  \font\headingfont=\fontname\tenbf \scaledmag2
        \font\headingfonttt=\fontname\tentt \scaledmag2
  \font\smallfont=\fontname\sevenrm
  \font\smallsy=\fontname\sevensy

  \footline{\hss\folio\hss}
  \def\makefootline{\baselineskip10pt\hsize4in\line{\the\footline}}
\else
  \hsize 3.2in
  \vsize 7.5in %% was 7.95in
  \advance\vsize by 1cm
  \hoffset -12mm %-2mm % was -.75in
  \voffset -.745in
  \font\titlefont=cmbx10 \scaledmag2
  \font\headingfont=cmbx10 \scaledmag1
  \font\headingfonttt=cmtt10 \scaledmag1
  \font\smallfont=cmr6
  \font\smallsy=cmsy6
  \font\eightrm=cmr8
  \font\eightbf=cmbx8
  \font\eightit=cmti8
  \font\eighttt=cmtt8
  \font\eightsy=cmsy8
  \font\eightsl=cmsl8
  \font\eighti=cmmi8
  \font\eightex=cmex10 at 8pt
  \textfont0=\eightrm  
  \textfont1=\eighti
  \textfont2=\eightsy
  \textfont3=\eightex
  \def\rm{\fam0 \eightrm}
  \def\bf{\eightbf}
  \def\it{\eightit}
  \def\tt{\eighttt}
  \def\sl{\eightsl}
  \normalbaselineskip=.8\normalbaselineskip
  \normallineskip=.8\normallineskip
  \normallineskiplimit=.8\normallineskiplimit
  \normalbaselines\rm       %make definitions take effect

  \if 2\ncolumns
    \let\maxcolumn=b
    \footline{\hss\rm\folio\hss}
    \def\makefootline{\vskip 2in \hsize=6.86in\line{\the\footline}}
  \else \if 3\ncolumns
    \let\maxcolumn=c
    \nopagenumbers
  \else
    \errhelp{You must set \columnsperpage equal to 1, 2, or 3.}
    \errmessage{Illegal number of columns per page}
  \fi\fi

  \intercolumnskip=.46in
  \def\abc{a}
  \output={%
      % This next line is useful when designing the layout.
      %\immediate\write16{Column \folio\abc\space starts with \firstmark}
      \if \maxcolumn\abc \multicolumnformat \global\def\abc{a}
      \else\if a\abc
    \global\setbox\columna\columnbox \global\def\abc{b}
        %% in case we never use \columnb (two-column mode)
        \global\setbox\columnb\hbox to -\intercolumnskip{}
      \else
    \global\setbox\columnb\columnbox \global\def\abc{c}\fi\fi}
  \def\multicolumnformat{\shipout\vbox{\makeheadline
      \hbox{\box\columna\hskip\intercolumnskip
        \box\columnb\hskip\intercolumnskip\columnbox}
      \makefootline}\advancepageno}
  \def\columnbox{\leftline{\pagebody}}

  \def\bye{\par\vfill\supereject
    \if a\abc \else\null\vfill\eject\fi
    \if a\abc \else\null\vfill\eject\fi
    \end}  
\fi

% we won't be using math mode much, so redefine some of the characters
% we might want to talk about
%\catcode`\^=12
%\catcode`\_=12
\catcode`\~=12

\chardef\\=`\\
\chardef\{=`\{
\chardef\}=`\}
\chardef\underscore=`\_
\chardef\'="0D % These are upright quote marks


\hyphenation{}

\parindent 0pt
\parskip .85ex plus .35ex minus .5ex

\def\small{\smallfont\textfont2=\smallsy\baselineskip=.8\baselineskip}

\outer\def\newcolumn{\vfill\eject}

\outer\def\title#1{{\titlefont\centerline{#1}}\vskip 1ex plus .5ex}

%\outer\def\section#1{\par\filbreak
%  \vskip .5ex  minus .1ex {\headingfont #1}\mark{#1}%
%  \vskip .3ex  minus .1ex}
\outer\def\section#1{\par\filbreak
  \vskip .5ex  minus .1ex \vskip2\jot
\hrule width.5\hsize
\vskip1\jot{\headingfont #1}\mark{#1}%
  \vskip .3ex  minus .1ex}

\outer\def\librarysection#1#2{\par\filbreak
  \vskip .5ex  minus .1ex {\headingfont #1}\quad{\headingfonttt<#2>}\mark{#1}%
  \vskip .3ex  minus .1ex}


\newdimen\keyindent

\def\beginindentedkeys{\keyindent=1em}
\def\endindentedkeys{\keyindent=0em}
\def\begindoubleindentedkeys{\keyindent=2em}
\def\enddoubleindentedkeys{\keyindent=1em}
\endindentedkeys

\def\paralign{\vskip\parskip\halign}

\def\<#1>{$\langle${\rm #1}$\rangle$}

\def\kbd#1{{\tt#1}\null}    %\null so not an abbrev even if period follows

\def\beginexample{\par\vskip1\jot
\hrule width.5\hsize
\vskip1\jot
\begingroup\parindent=2em
  \obeylines\obeyspaces\parskip0pt\tt}
{\obeyspaces\global\let =\ }
\def\endexample{\endgroup}

\def\Example{\qquad{\sl Example\/}.\enspace\ignorespaces}

\def\key#1#2{\leavevmode\hbox to \hsize{\vtop
  {\hsize=.75\hsize\rightskip=1em
  \hskip\keyindent\relax#1}\kbd{#2}\hfil}}

\newbox\metaxbox
\setbox\metaxbox\hbox{\kbd{M-x }}
\newdimen\metaxwidth
\metaxwidth=\wd\metaxbox

%\def\metax#1#2{\leavevmode\hbox to \hsize{\hbox to .75\hsize
%  {\hskip\keyindent\relax#1\hfil}%
%  \hskip -\metaxwidth minus 1fil
%  \kbd{#2}\hfil}}
\def\metax#1#2{\leavevmode\hbox to \hsize{\hbox to .75\hsize
  {\hskip\keyindent\relax\kbd{#1}\hfil}%
  \hskip -\metaxwidth minus 1fil
  #2\hfil}}

\def\threecol#1#2#3{\hskip\keyindent\relax#1\hfil&\kbd{#2}\quad
  &\kbd{#3}\quad\cr}


%**end of header

\title{JSXGraph Reference Card}

\section{Include JSXGraph in HTML}
Three parts are needed: Include files containing the software, an HTML element, and 
JavaScript code.

{\bf Include files:}

Three files have to be included:
{\tt jsxgraph.css}, {\tt jsxgraphcore.js} and either {\tt prototype.js} or {\tt jquery.js}.

{\obeylines\obeyspaces\parskip0pt\tt
$<$link rel="stylesheet" type="text/css" 
        href="domain/jsxgraph.css"/$>$
$<$script type="text/javascript" 
          src="domain/prototype.js"$>$$<$/script$>$
$<$script type="text/javascript" 
          src="domain/jsxgraphcore.js"$>$$<$/script$>$}

or

{\obeylines\obeyspaces\parskip0pt\tt
$<$link rel="stylesheet" type="text/css" 
        href="domain/jsxgraph.css"/$>$
$<$script type="text/javascript" 
          src="domain/jquery.min.js"$>$$<$/script$>$
$<$script type="text/javascript" 
          src="domain/jsxgraphcore.js"$>$$<$/script$>$}

{\tt domain} is the location of the files. This can be a local directory or
{\tt http://jsxgraph.uni-bayreuth.de/distrib/}

{\bf HTML element containing the construction:}

\metax{$<$div id="box" class="jxgbox"}{}
\metax{\phantom{xxx}style="width:600px; height:600px;"$>$$<$/div$>$}{}

{\bf JavaScript code:}

\metax{$<$script type="text/javascript"$>$}{}
\metax{\phantom{xxx}{\tt var brd = JXG.JSXGraph.initBoard('box',$\{$axis:true$\}$);}}{}
\metax{$<$script$>$}{}

\section{Initializing the board}
\metax{var brd = JXG.JSXGraph.initBoard('box',$\{$attributes$\}$);}{}

{\sl -- Attributes of the board}\par
\metax{unitX, unitY:}{Number of pixels of one unit}
\metax{}{in $x$/$y$-axis direction}
\metax{originX, originY:}{the coordinates of the origin}
\metax{}{in pixel coordinates}
\metax{zoomX,zoomY:}{zoom factor in $x$/$y$-axis direction}
\metax{zoomfactor:}{overall zoom factor in both directions}


\section{Basic commands}
\metax{var el = brd.createElement('type',[parents],$\{$attributes$\}$);}{}
\metax{el.setProperty($\{$key1:value1,key2:value2,...$\}$);}{}

\section{Available Elements}
'board', 'circle', 'curve', 'glider', 'group', 
'line', 'math functions', 'normal', 'point', 'polygon', 
'slider', 'spline', 'tangent', 'turtle'

\vskip6pt
\hrule width.2\hsize
'angle', 'arc', 'arrow', 'arrowparallel', 'axis',
'bisector', 
'chart', 'circumcircle', 'circumcirclemidpoint',
'image', 'integral',
'midpoint', 'mirrorpoint',
'parallel', 'parallelpoint', 'perpendicular', 'perpendicularpoint',
'reflection', 'sector', 'text', 'ticks', 'transform', 

\section{Point}
\metax{brd.createElement('point',[parents],$\{$attributes$\}$);}{}

{\bf Parent elements:}

\metax{[3,-2]}{Euclidean coordinates}
\metax{[1, 3,-2]}{Homogeneous coordinates ($z$ in first place)}
\metax{[function()$\{$return p1.X();$\}$,}{}
\metax{  function()$\{$return p2.Y();$\}$]}{Functions for $x,y$, (and $z$)}

{\bf Methods}

\metax{p.X()}{$x$-coordinate}
\metax{p.Y()}{$y$-coordinate}
\metax{p.Z()}{(Homogeneous) $z$-coordinate}
\metax{p.Dist(q)}{Distance from $p$ to point $q$}

\section{Glider}
\metax{brd.createElement('glider',[parents],$\{$attributes$\}$);}{}

{\bf Parent elements:}

\metax{[3, -2, c]}{Initial coordinates and object to glide on}
\metax{[c]}{Object to glide on (initially at origin)}

Coordinates may also be defined by functions, see Point.


\section{Line}
\metax{brd.createElement('line',[parents],$\{$attributes$\}$);}{}

{\bf Parent elements:}

\metax{[p1,p2]}{{}line through 2 points}
\metax{[c,a,b]}{{}line defined by 3 coordinates (can also be functions)}

In case of coordinates as parents, the line is the set of solutions
of the equation $ a\cdot x+b\cdot y+c\cdot z=0.$

\section{Circle}
\metax{brd.createElement('circle',[parents],$\{$attributes$\}$);}{}

{\bf Parent elements:}

\metax{[p1,p2]}{2 points: center and point on circle line}
\metax{[p,r]}{center, radius (constant or function)}
\metax{[p,c],[c,p]}{center, circle from which the radius is taken}
\metax{[p,l],[l,p]}{center, line segment for the radius}
\metax{[p1,p2,p3]}{circle through three points}

\section{Polygon}
\metax{brd.createElement('polygon',[p1,p2,...],$\{$attributes$\}$);}{}
\metax{[p1,p2,...]}{array of points}
The points array connected by line segements and the inner area is filled.

\section{Group}
\metax{brd.createElement('group',[p1,p2,...],$\{$attributes$\}$);}{}
\metax{[p1,p2,...]}{array of points}
Invisible grouping of points. If one point is moved, the others are
transformed accordingly.

\section{Slider}
\metax{brd.createElement('slider',[[a,b],[c,d],[e,f,g]],$\{$atts$\}$);}{}
\metax{[a,b],[c,d]:}{visual start and end position of the slider}
\metax{[e,f,g]:}{the slider returns values between $e$ and $g$,}
\metax{}{the initial position is at value $f$}
\metax{slider.Value():}{returns the position of the slider $\in[e,g]$}


\section{Curve}
{\sl -- Function graph, $x\mapsto f(x)$:}\par
\metax{brd.createElement('functiongraph',[parents],$\{$atts$\}$);}{}

{\bf Parent elements:}

\metax{[function(x)$\{$return x*x;$\}$,-1,1]}{function term}
\metax{}{optional: start, end}

The other types of curves are defined through:

\metax{brd.createElement('curve',[parents],$\{$attributes$\}$);}{}

{\bf Parent elements:}

{\sl -- Parameter curve, $t\mapsto(f(t),g(t))$:}\par

\metax{[function(t)$\{$return 5*t;$\}$,function(t)$\{$return t*t;$\}$,0,2]}{}
\metax{}{$x$ function, $y$ function, optional: start, end}

{\sl -- Polar curve:}\par
Defined by the equation $r=f(\phi)$.

\metax{[function(phi)$\{$return 5*phi;$\}$,[1,2],0,Math.PI]}{}
\metax{}{Defining function, optional: center, start, end}

{\sl -- Data plot:}\par
\metax{[[1,2,3],[4,-2,3]]}{}
\metax{}{array of $x$-coordinates, array of $y$-coordinates, {\sl or}}
\metax{[[1,2,3],function(x)$\{$return x*x;$\}$]}{}
\metax{}{array of $x$-coordinates, function term}

{\sl -- Cubic spline:}\par
\metax{brd.createElement('spline',[p1,p2,...],$\{$attributes$\}$);}{}
\metax{[p1,p2,...]}{array of points}

\section{Tangent, normal}
\metax{var t = brd.createElement('tangent',[g],$\{$attributes$\}$);}{}
\metax{var t = brd.createElement('normal',[g],$\{$attributes$\}$);}{}
\metax{g}{glider on circle, line, or curve}

\section{Turtle}
\metax{var t = brd.createElement('turtle');}{}
\metax{var t = brd.createElement('turtle',[],$\{$attributes$\}$);}{}
\metax{var t = brd.createElement('turtle',[parents],$\{$atts$\}$);}{}

The turtle has a position and a direction (in degrees). All angles have
to be supplied in degrees.

{\bf Parent elements:}

\metax{[1,2,70]}{Optional start values for $x$, $y$, and direction}

{\bf Methods:}

Most of the methods have an abbreviated alternative version.

\metax{t.back(len); or t.bk(len);}{}
\metax{t.clean();}{erase the turtle lines without resetting the turtle}
\metax{t.clearScreen(); or t.cs();}{call {\tt t.home()} and {\tt t.clean()}}
\metax{t.forward(len); t.fd(len);}{}
\metax{t.hideTurtle(); or t.ht();}{}
\metax{t.home();}{Set the turtle to [0,0] and direction to 90.}
\metax{t.left(angle); or t.lt(angle);}{}
\metax{t.lookTo(t2.pos);}{Turtle looks to the turtle {\tt t2}}
\metax{t.lookTo([x,y]);}{Turtle looks to a coordinate pair}
\metax{t.moveTo([x,y]);}{Move the turtle with drawing} 
\metax{t.penDown(); or t.pd();}{}
\metax{t.penUp(); or t.pu();}{}
\metax{t.popTurtle();}{pop turtle status from stack}
\metax{t.pushTurtle();}{push turtle status on stack}
\metax{t.right(angle); or t.rt(angle);}{}
\metax{t.setPos(x,y);}{Move the turtle without drawing}
\metax{t.setPenColor(col);}{{\tt col}: colorString, e.g. 'red' or '\#ff0000'}
\metax{t.setPenSize(size);}{{\tt size}: number}
\metax{t.showTurtle(); or t.st();}{}

\section{Attributes of geometric elements}
{\sl Generic attributes:}\par
\metax{strokeWidth:}{number}
\metax{strokeColor,fillColor,highlightFillColor,}{}
\metax{highlightStrokeColor,labelColor:}{color string}
\metax{strokeOpacity,fillOpacity,highlightFillOpacity,}{}
\metax{highlightStrokeOpacity:}{value between 0 and 1}
\metax{visible,trace,fixed,draft:}{true, false}
\metax{dash:}{dash style for lines: $0, 1, \ldots, 6$}
\metax{style:}{point style: $0, 1, \ldots, 12$}

{\sl Attributes for line elements:}\par
\metax{straightFirst,straightLast,withTicks:}{true, false}

{\sl Attributes for line and arc elements:}\par
\metax{firstArrow,lastArrow:}{true, false}
 


\section{Mathematical functions}
Functions of the intrinsic JavaScript object {\sl Math}:\par
\metax{Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,}{}
\metax{Math.cos,Math.exp,Math.floor,Math.log,Math.max,}{}
\metax{Math.min,Math.random,Math.sin,Math.sqrt,Math.tan}{}

\metax{(number).toFixed(3):}{Rounding a number to fixed precision}

Additional mathematical functions are methods of {\tt JXG.Board}.
\metax{board.angle(A,B,C)}{angle $ABC$}
\metax{board.cosh(x), board.sinh(x)}{}
\metax{board.pow(a,b)}{$a^b$}
\metax{board.D(f,x)}{compute ${d\over dx}f$ numerically}
\metax{board.I([a,b],f)}{compute $\int_a^b f(x)dx$ numerically}
\metax{board.root(f,x)}{root of the function $f$.}
\metax{}{Uses Newton method with start value $x$}
\metax{board.factorial(n)}{computes $n!=1\cdot 2\cdot 3\cdots n$}
\metax{board.distance(arr1,arr2)}{Euclidean distance}
\metax{board.lagrangePolynomial([p1,p2,...])}{}
\metax{}{returns a polynomial through the given points}
\metax{board.neville([p1,p2,...])}{polynomial curve interpolation}

\section{Links}
Help pages are available at
{\tt http://jsxgraph.org}


%%%%%%%%%%%%%%%%%%%%%%%%%% END LIBRARIES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This goes at the bottom of the last page (column 6)
\copyrightnotice
%

\bye

% Local variables:
% compile-command: "tex wiki-refcard.tex"
% End:
